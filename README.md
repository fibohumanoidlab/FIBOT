
# Humanoid's structure
Humanoid ขนาด Kid-size นี้ถูกพัฒนาขึ้นสำหรับการแข่งขัน RoboCup Soccer Humanoid League และพัฒนาต่อยอดจาก Humanoid รุ่นเก่าที่พบปัญหาระหว่างการแข่งขัน RoboCup Soccer Humanoid League ในปี 2022 โดยมีรายละเอียดดังนี้

##  Problem from Humanoid in RoboCup Soccer Humanoid League 2022
ในการแข่งขัน RoboCup Soccer Humanoid League ในปี 2022 Humanoid รุ่นเก่าเกิดปัญหาโดยขาของหุ่นหลุดออกจากลำตัว เนื่องจากชิ้นส่วนของ Humanoid รุ่นเก่าตรงบริเวณข้อต่อสะโพกสำหรับหมุนขาในแนวแกนตั้งไม่สามารถรับแรงบิดได้มากเพียงพอทำให้เกิดการแตกหัก ซ้ำร้ายชิ้นส่วนนั้นเป็นชิ้นส่วนที่เชื่อมระหว่าง Dynamixel กับขา ส่งผลให้หุ่นตัวนั้นเดินไม่ได้และต้องออกจากการแข่งขัน
นอกจากนี้ก็ยังต้องการพัฒนาโครงสร้างของหุ่นให้มีความแข็งแรงมากขึ้นและง่ายต่อการซ่อมบำรุงด้วย

## Solution

![Humanoid](https://github.com/Atlas-user004/Humanoid-s-structure/assets/78797400/dfff6ba3-3a4b-461e-99b7-00c34534df4e)

![Humanoid_Edit1](https://github.com/Atlas-user004/Humanoid-s-structure/assets/78797400/60ade66c-9a7b-42e4-99ca-415e2956211e)

![Humanoid_Edit2](https://github.com/Atlas-user004/Humanoid-s-structure/assets/78797400/afa9ca00-2c13-4b26-9c84-cb4e3a04cbf3)

ในปัจจุบันได้ออกแบบโครงสร้างของ Humanoid รุ่นใหม่ที่มีขนาดดังในภาพ มีน้ำหนักอยู่ที่ 5.588 kg ออกแบบให้สามารถติดตั้ง Dynamixel รุ่น XM430-W350-R และรุ่น XM540-W270-R นอกจากพัฒนาแก้ไขปัญหาจุดบกพร่องของ Humanoid รุ่นเก่าแล้ว ได้มีการปรับปรุงโครงสร้างทั้งหมดให้แข็งแรงขึ้น โดยมีนายธนากร คำมนตรี ร่วมช่วยออกแบบส่วนขาของหุ่นด้วย รายละเอียดของ Humanoid รุ่นใหม่ที่ได้พัฒนาและแก้ไขมีดังนี้

#### 1. แก้ไขข้อต่อตรงสะโพก
จากเดิมที่ขาของหุ่นติดตั้งเชื่อมกับ Dynamixel ส่งผลให้แรงในแนวรัศมี (Radial load) แรงในแนวแกน (Axial load) และแรงบิดมากระทำที่ Dynamixel โดยตรง จึงเลือกใช้ Deep groove bearing ช่วยรองรับแรงที่เกิดขึ้นตรงสะโพกในระหว่างการเดิน เตะและลุก ถึงแม้ Deep groove bearing ถูกสร้างเพื่อรองรับแรงในแนวรัศมีแต่ก็สามารถรองรับแรงในแนวแกนได้ระดับนึง รวมทั้งขนาดวงนอกและความหนาของตัว bearing น้อยกว่า Angular contact bearing ที่มีขนาดวงในที่เท่ากัน จึงใช้พื้นที่ในตัวหุ่นน้อย

![Humanoid3](https://github.com/Atlas-user004/Humanoid-s-structure/assets/78797400/3da788d2-71e9-46f0-9bc9-0cea9a111def)



Deep groove bearing อยู่ในตำแหน่งตามในภาพดังนี้

![Humanoid_Edit3](https://github.com/Atlas-user004/Humanoid-s-structure/assets/78797400/168324ef-568a-4a24-89e5-1bc51a71e6b2)

![Humanoid_Edit4](https://github.com/Atlas-user004/Humanoid-s-structure/assets/78797400/a1f42ad6-43fe-4742-90e2-626260cfc31a)



นอกจากนี้ก็ได้สั่งผลิตขึ้นรูปและทดลองประกอบได้ดังนี้

![Hip](https://github.com/Atlas-user004/Humanoid-s-structure/assets/78797400/896703d6-3472-455a-9554-7cd059e36eb8)



#### 2. ชิ้นส่วนจะขึ้นรูปด้วยวิธี CNC
เพื่อให้ระบบประมวลผลสามารถควบคุมหุ่นได้ง่ายยิ่งขึ้น จึงเปลี่ยนชิ้นส่วนอลูมิเนียมพับของโครงสร้างหุ่นในบางจุดที่ต้องการความแม่นยำเป็น CNC กับ laser cut ที่มีความแม่นยำในการขึ้นรูปมากกว่า รวมทั้งปัจจัยหนึ่งที่ทำให้ระบบประมวลผลไม่สามารถควบคุมได้ตามอย่างที่ควรจะเป็นก็อาจเกิดจากความเคลื่อนคลาดของชิ้นส่วนที่เกิดจาดการประกอบที่ไม่ดี จึงออกแบบให้ชิ้นส่วน CNC มีบ่าที่ช่วยกำหนดตำแหน่งของชิ้นส่วนก่อนประกอบ

![Humanoid_Edit10](https://github.com/Atlas-user004/Humanoid-s-structure/assets/78797400/5973684f-97b4-4944-ae2e-c100a6e30cc5)
![Humanoid_Edit11](https://github.com/Atlas-user004/Humanoid-s-structure/assets/78797400/2420b5eb-08ae-43e2-94c5-2682600d6251)



รวมทั้งทางทีมไม่มีแผนที่จะซื้อชิ้นส่วนโครงสร้างสำเร็จรูปของ Dynamixel เนื่องจากต้องจัดสั่งซื้อภายนอกประเทศซึ่งใช้เวลามาก จึงเลือกที่จะสร้างชิ้นส่วนและขึ้นรูปภายในประเทศแทน

#### 3. เปลี่ยน handle สำหรับขนย้ายหุ่น

![Humanoid_Edit9](https://github.com/Atlas-user004/Humanoid-s-structure/assets/78797400/865fc402-4880-4023-8beb-5cbb0ce692ba)



handle สำหรับถือขนย้ายหุ่นของหุ่นเก่าจะมีลักษณะคล้ายเชือก ซึ่งทางทีมมองว่าเชือกที่ใช้สำหรับเป็น handle ยังมีความเสี่ยงที่เชือกจะขาดและอาจเกิดความเสียหายให้กับหุ่นระหว่างการขนย้าย จึงเปลี่ยน handle แบบเชือกให้เป็น handle ที่มีความแข็งแรงมากกว่าและใช้เป็นส่วนหนึ่งของโครงสร้างหุ่นด้วยเพื่อลดความเสี่ยงดังกล่าว

![Humanoid_Edit5](https://github.com/Atlas-user004/Humanoid-s-structure/assets/78797400/ed3db012-6979-4967-b930-5337f89d853e)



#### 4.วงจรภายในของ Humanoid ที่สไลด์เลื่อนออกจากตัวหุ่นได้
วงจรภายใน Humanoid รุ่นเก่าประกอบด้วยวงจรควบคุม (Control circuit) และบอร์ด Jetson ถูกยึดตายเข้ากับช่องเก็บในอกของหุ่นด้วยสกรูกับน็อต ในช่วงซ่อมบำรุงที่จำเป็นต้องดึงย้ายวงจรออกจากอกของหุ่น ซึ่งก็สร้างความยากลำบากสำหรับขันสกรูกับน็อตออกในพื้นที่แคบ จึงออกแบบช่องเก็บวงจรให้สามารถเลื่อนสไสด์วงจรออกมาได้ง่าย และใช้สกรูยึดล็อคอีกชั้นที่ภายนอกโครงหุ่นเพื่อป้องกันวงจรเคลื่อนที่ภายในโครงหุ่น วิธีการถอดวงจรออกจากช่องเก็บมีดังนี้

![Humanoid_Edit7](https://github.com/Atlas-user004/Humanoid-s-structure/assets/78797400/51813711-53dc-404b-9cec-ae0433e07dc1)

![Humanoid_Edit8](https://github.com/Atlas-user004/Humanoid-s-structure/assets/78797400/f415bcca-f039-42b3-a276-3a8f36c5c029)



## Things to improve
ถึงแม้ปรับปรุงแก้ไขข้อบกพร่องแล้ว แต่ก็ยังมีบางจุดที่ต้องแก้ไขต่อซึ่งมีดังนี้

#### 1.น้ำหนักของหุ่นที่มาก
โครงสร้างสะโพกของหุ่นเป็นชิ้นส่วน CNC มาประกอบกันเพื่อติดตั้ง Deep groove bearing และเป็นช่องใส่แบตเตอรี่แล้วยังเป็นหัวใจหลักซึ่งถ้าประกอบไม่ดีหรือคลาดเคลื่อนจะทำให้โครงสร้างส่วนอื่นคลาดเคลื่อนตามด้วย แต่ชิ้นส่วน CNC เหล่านี้ก็มีน้ำหนักเกินกับชิ้นส่วนหลายชิ้นที่ยังไม่ได้ลดเนื้อทำให้หุ่นมีน้ำหนักรวม 5.588 kg ส่งผลต่อแรงที่ใช้ในการเคลื่อนที่และขนย้ายหุ่น ดังนั้นสำหรับการพัฒนาโครงสร้างหุ่นต้อง จำเป็นที่จะต้อง optimize หรือลดเนื้อชิ้นส่วน CNC และชิ้นส่วนอื่นให้มีน้ำหนักน้อยที่สุดและรับแรงได้มากที่สุด

#### 2.โครงสร้างหุ่นที่ดูเทอะทะ
โครงสร้างหุ่นต้องสามารถบรรจุวงจรควบคุม บอร์ด Jetson และแบต LiPo ได้โดยวงจรควบคุมกับบอร์ด Jetson เก็บที่อกของหุ่นใน ส่วนแบต LiPo เก็บที่สะโพกหุ่นในแนวนอนเพื่อใช้เป็นจุดศูนย์ถ่วงของหุ่นแต่แลกมากับพื้นที่เก็บแบตมากขึ้นแทนดังภาพ ซึ่งส่งผลต่อขนาดของหุ่นโดยรวมที่ต้องใหญ่ตามขนาดแบต ดังนั้นจำเป็นต้องใช้แบตที่มีขนาดเล็กลงหรือเปลี่ยนตำแหน่งที่จัดเก็บแบต LiPo นี้แทน

![Humanoid_Edit6](https://github.com/Atlas-user004/Humanoid-s-structure/assets/78797400/36320b4c-4593-49f4-afb2-11cd570d6bed)



## Conclusion
ปัจจุบันจุดบกพร่องของ Humanoid รุ่นเก่าที่ไม่สามารถรับแรงบิดที่สะโพกได้เพียงพอ ก็ได้รับการปรับปรุงในโครงสร้างของ Humanoid รุ่นใหม่ ติดตั้ง Dynamixel รุ่น XM430-W350-R และรุ่น XM540-W270-R เปลี่ยนการขึ้นรูปชิ้นส่วนบางชิ้นจากอลูพับเป็นชิ้นส่วน CNC เปลี่ยน handle ให้แข็งแรงขึ้นสำหรับขนย้ายหุ่น และพัฒนาช่องเก็บวงจรควบคุมที่อกให้สามารถสไลด์เข้าออกได้เพื่อสะดวกต่อการซ่อมแซม แต่โครงสร้างหุ่นนี้ก็ยังต้องพัฒนาต่อให้มีน้ำหนักที่เบาลงและมีขนาดที่กะทัดรัดขึ้น 
 





